/**
  ******************************************************************************
  * @file     （程序名）	  	main.h
  * @author （程序作者）		Lu
  * @version（程序版本）		V1.0.0.0
  * @date   （修改日期）		2024-xx-xx
  * @brief  （功能简介）		STM32F103VET6固件库模板
  * @parameter  （参数）		无
  * @return   （返回值）		无
  ******************************************************************************
  * @attention （注意事项）
  * 芯片型号：STM32F103VET6
  * 使用引脚：
  * 修改日期：
  * 实现功能：
  *	
  ******************************************************************************
  */
/*------------------------------------------------------------------------------*/

#ifndef __MAIN_H
#define __MAIN_H
/* 用户头文件 ------------------------------------------------------------------*/
//#define     FreeRTOS_OS     1   //定义系统文件夹是否支持OS
#ifdef      FreeRTOS_OS
/* FreeRTOS头文件 */
#include "FreeRTOS.h"
#include "task.h"
#include "queue.h"
#include "semphr.h"

#else
#include "stm32f10x.h"   //引用stm32头文件
//#include "main.h"
#endif  //FreeRTOS_OS

/* 开发板硬件bsp头文件 */
#include "./usart/bsp_usart.h"  //引用bsp_usart.h 头文件
#include "./IIC/bsp_i2c.h"  //引用IIC配置头文件


#include "./LED/bsp_led.h"  //引用bsp_led配置头文件
#include "./ChipID/bsp_chipid.h"    //引用bsp_chipid配置头文件

#include "./DS18B20/bsp_ds18b20.h"  //引用DS18B20配置头文件
#include "./WS2812/bsp_ws2812.h"  //引用WS2812配置头文件
#include "./Timbase/bsp_TiMbase.h"  //引用基本定时器配置头文件

#include "./MOTOR/bsp_motor.h"  //引用电机配置头文件
#include "./MOTOR/bsp_encoder.h"  //引用编码器配置头文件
#include "./PID/bsp_pid.h"  //引用PID算法头文件

/* 宏定义 ----------------------------------------------------------------------*/
//位带操作,实现51类似的GPIO控制功能
//具体实现思想,参考<<CM3权威指南>>第五章(87页~92页).M4同M3类似,只是寄存器地址变了.
//IO口操作宏定义
#define BITBAND(addr, bitnum) ((addr & 0xF0000000)+0x2000000+((addr &0xFFFFF)<<5)+(bitnum<<2)) 
#define MEM_ADDR(addr)  *((volatile unsigned long  *)(addr)) 
#define BIT_ADDR(addr, bitnum)   MEM_ADDR(BITBAND(addr, bitnum)) 
//IO口地址映射
#define GPIOA_ODR_Addr    (GPIOA_BASE+20) //0x40020014
#define GPIOB_ODR_Addr    (GPIOB_BASE+20) //0x40020414 
#define GPIOC_ODR_Addr    (GPIOC_BASE+20) //0x40020814 
#define GPIOD_ODR_Addr    (GPIOD_BASE+20) //0x40020C14 
#define GPIOE_ODR_Addr    (GPIOE_BASE+20) //0x40021014 
//#define GPIOF_ODR_Addr    (GPIOF_BASE+20) //0x40021414    
//#define GPIOG_ODR_Addr    (GPIOG_BASE+20) //0x40021814   
//#define GPIOH_ODR_Addr    (GPIOH_BASE+20) //0x40021C14    
//#define GPIOI_ODR_Addr    (GPIOI_BASE+20) //0x40022014     

#define GPIOA_IDR_Addr    (GPIOA_BASE+16) //0x40020010 
#define GPIOB_IDR_Addr    (GPIOB_BASE+16) //0x40020410 
#define GPIOC_IDR_Addr    (GPIOC_BASE+16) //0x40020810 
#define GPIOD_IDR_Addr    (GPIOD_BASE+16) //0x40020C10 
#define GPIOE_IDR_Addr    (GPIOE_BASE+16) //0x40021010 
//#define GPIOF_IDR_Addr    (GPIOF_BASE+16) //0x40021410 
//#define GPIOG_IDR_Addr    (GPIOG_BASE+16) //0x40021810 
//#define GPIOH_IDR_Addr    (GPIOH_BASE+16) //0x40021C10 
//#define GPIOI_IDR_Addr    (GPIOI_BASE+16) //0x40022010 
 
//IO口操作,只对单一的IO口!
//确保n的值小于16!
#define PAout(n)   BIT_ADDR(GPIOA_ODR_Addr,n)  //输出 
#define PAin(n)    BIT_ADDR(GPIOA_IDR_Addr,n)  //输入 

#define PBout(n)   BIT_ADDR(GPIOB_ODR_Addr,n)  //输出 
#define PBin(n)    BIT_ADDR(GPIOB_IDR_Addr,n)  //输入 

#define PCout(n)   BIT_ADDR(GPIOC_ODR_Addr,n)  //输出 
#define PCin(n)    BIT_ADDR(GPIOC_IDR_Addr,n)  //输入 

#define PDout(n)   BIT_ADDR(GPIOD_ODR_Addr,n)  //输出 
#define PDin(n)    BIT_ADDR(GPIOD_IDR_Addr,n)  //输入 

#define PEout(n)   BIT_ADDR(GPIOE_ODR_Addr,n)  //输出 
#define PEin(n)    BIT_ADDR(GPIOE_IDR_Addr,n)  //输入

//#define PFout(n)   BIT_ADDR(GPIOF_ODR_Addr,n)  //输出 
//#define PFin(n)    BIT_ADDR(GPIOF_IDR_Addr,n)  //输入

//#define PGout(n)   BIT_ADDR(GPIOG_ODR_Addr,n)  //输出 
//#define PGin(n)    BIT_ADDR(GPIOG_IDR_Addr,n)  //输入

//#define PHout(n)   BIT_ADDR(GPIOH_ODR_Addr,n)  //输出 
//#define PHin(n)    BIT_ADDR(GPIOH_IDR_Addr,n)  //输入

//#define PIout(n)   BIT_ADDR(GPIOI_ODR_Addr,n)  //输出 
//#define PIin(n)    BIT_ADDR(GPIOI_IDR_Addr,n)  //输入

/* 函数声明 --------------------------------------------------------------------*/


#endif  /*  __MAIN_H */

/* END OF FILE ------------------------------------------------------------------*/

